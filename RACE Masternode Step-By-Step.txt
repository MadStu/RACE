Step-by-Step guide to a RACE Masternode setup

1. Send 1000 coins to yourself.

If you haven't done so already, install the windows wallet from https://github.com/racecrypto/racecoin/releases 
Create a new receive address and call it something like MN1.
Then send 1000 Race coins to the address you just created. Make sure the address receives EXACTLY 1000 coins, so DO NOT tick the "Subtract fee from amount" option.
We now need to wait for 15 confirmations of the transaction so we'll get on with the remote VPS install.

2. VPS

Order a VPS. The cheapest one you can find will probably do, Choosing the Ubuntu 16.04 (server version without a desktop) operating system to install on it would be ideal.

3. PuTTY Install

If you haven't got an SSH client installed already, please download and run PuTTY from https://www.putty.org/

4. New User

Your VPS provider will give you an IP address and a root password for your new server.
Login in to your server using PuTTY using the IP address. Your username will be "root" and the password is the root password.
For this guide I'll use the username "raceuser". Create a strong password for this user and you can skip past the options asking for your name etc. Type on the command line:

adduser raceuser

Then make the user a sudoer so he can do root things.

usermod -aG sudo raceuser

Now exit this SSH as root by typing:

exit

Now log back in using the same IP address, but with the username "raceuser" and the password you chose.

5. SETUP

Copy and paste the following into the command line. Enter your password when asked and let it run. It will take a long time.

wget https://raw.githubusercontent.com/MadStu/RACE/master/RACEinstall.sh
chmod 777 RACEinstall.sh
sed -i -e 's/\r$//' RACEinstall.sh
./RACEinstall.sh

It may ask you stuff during the process, if it asks to reinstall things which are already installed, just choose yes. And it may also occasionally ask for your password as you'll be sudoing some tasks (which means running with root permissions).
At the end it'll tell you your masternode key which you'll need to copy and paste into your windows wallet masternode configuration file.

6. Configure Windows wallet

Once the 1000 coins you sent earlier has 15 confirmations, you can grab your Transaction ID and VOUT.
Go to the debug console and type:

masternode outputs

You'll see something like this:

"f5d4ec12b6ab68977eed84913255ea6685110e5f781e5e525a12bc2fd1c6b9d": "1"

The first part is your TRANSACTION ID - the second part is your VOUT.
Now open up the masternode configuration file by clicking Tools -> Open Masternode Configuration File Under all # put a new line which consists of the following data from your skeletion:

MN1 MASTERNODE_PUBLIC_IP:8800 MASTERNODE_KEY TRANSACTION_ID VOUT

Save and close the file.
Make sure you have the masternode tab enabled in the settings by going to Settings->Options->Wallet->Show Masternode.
Close and restart the wallet.

7. Start your Masternode

Start it by going to the masternode tab, right clicking on your masternode and choosing to "Start Alias".

It can take 30 minutes to an hour or more before you see the status change from WATCHDOG_EXPIRED to ENABLED.

8. Fix WATHCDOG_EXPIRED

If after a couple of hours your masternode status hasn't changed to ENABLED, run the following command:

wget https://raw.githubusercontent.com/MadStu/RACE/master/fixsentinel.sh
chmod 777 fixsentinel.sh
sed -i -e 's/\r$//' fixsentinel.sh
./fixsentinel.sh

Now Start Alias again in the windows wallet and wait another hour or so for the status to change. 



PROBLEMS


- Running out of memory?


IF your server doesn't have enough memory, you may need to create a swapfile by pasting this command:

fallocate -l 3G /swapfile
chmod 600 /swapfile
mkswap /swapfile
swapon /swapfile
echo -e "/swapfile none swap sw 0 0 \n" >> /etc/fstab



- Getting an "Unable to bind" error?


Try opening up race.conf using nano:

nano ~/.racecore/race.conf

Add the following lines:

listen=0
rpcallowip=127.0.0.1

Then restart the race daemon:

race-cli stop
raced


Good luck!